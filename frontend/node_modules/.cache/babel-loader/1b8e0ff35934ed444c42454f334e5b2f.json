{"ast":null,"code":"var _jsxFileName = \"/Users/pawansamarasinghe/Desktop/SAKURA HOSPITAL SYSTEM/frontend/src/components/epatientHome.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class epatientHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = id => {\n      axios.delete(`/patient/delete/${id}`).then(res => {\n        alert(\"Deleted Successfully!!\");\n        this.retrievepatient();\n      });\n    };\n\n    this.genPDF = () => {\n      const doc = new jsPDF();\n      doc.setFontSize(20);\n      doc.text(\"Emergency Patient List\", 50, 10);\n      var months = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\n      var d = new Date();\n      var namedMonth = months[d.getMonth()];\n      var today = new Date().getDate() + \"/ \" + namedMonth + \"/ \" + new Date().getFullYear();\n      var time = new Date().getHours() + \":\" + new Date().getMinutes() + \":\" + new Date().getSeconds();\n      doc.autoTable({\n        html: '#content'\n      });\n      doc.setFontSize(12);\n      doc.text(\"SAKURA HOSPITAL - \", 10, 272);\n      doc.setFontSize(10);\n      doc.text(\" EMERGENCY PATIENT REPORT\", 52, 272);\n      doc.save('tabel.pdf');\n    };\n\n    this.state = {\n      patient: []\n    };\n  }\n\n  componentDidMount() {\n    this.retrievepatient();\n  }\n\n  retrievepatient() {\n    axios.get(\"/patient\").then(res => {\n      if (res.data.success) {\n        this.setState({\n          patient: res.data.existingpatient\n        });\n        console.log(this.state.patient);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-dark\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"navbar-brand\",\n            href: \"/epatientHome\",\n            style: {\n              fontSize: 34\n            },\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \" Emergency Patient \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 84\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn navbar-btn btn-danger navbar-right\",\n            href: \"/\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-info\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"\",\n          style: {\n            textDecoration: 'none',\n            color: 'white'\n          },\n          children: \"Ambulance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 48\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 130\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger\",\n        style: {\n          width: '250px',\n          position: \"absolute\",\n          right: \"150px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          onClick: () => this.genPDF(),\n          style: {\n            textDecoration: 'none',\n            color: 'white'\n          },\n          children: \" Download Emegency Patients\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-hover\",\n        style: {\n          marginTop: '40px'\n        },\n        id: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Patient NIC Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Patient Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Patient PhoneNumber\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Driver NIC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Blood Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Patient past data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.patient.map((patient, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [patient.patientNICNumber, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.patientName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.patientPhoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.driverNICNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.bloodgroup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.patientpastdata\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-warning\",\n                href: `/edit/${patient._id}`,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this), \"\\xA0Edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-danger\",\n                href: \"#\",\n                onClick: () => this.onDelete(patient._id),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-trash-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), \"\\xA0Delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/addepatient\",\n          style: {\n            textDecoration: 'none',\n            color: 'white'\n          },\n          children: \"Add New Patient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 46\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/pawansamarasinghe/Desktop/SAKURA HOSPITAL SYSTEM/frontend/src/components/epatientHome.js"],"names":["React","Component","axios","jsPDF","epatientHome","constructor","props","onDelete","id","delete","then","res","alert","retrievepatient","genPDF","doc","setFontSize","text","months","d","Date","namedMonth","getMonth","today","getDate","getFullYear","time","getHours","getMinutes","getSeconds","autoTable","html","save","state","patient","componentDidMount","get","data","success","setState","existingpatient","console","log","render","fontSize","textDecoration","color","width","position","right","marginTop","map","index","patientNICNumber","patientName","patientPhoneNumber","driverNICNumber","bloodgroup","patientpastdata","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios  from 'axios';\nimport jsPDF from 'jspdf'\nimport 'jspdf-autotable'\n\nexport default class epatientHome extends Component {\n  constructor(props){\n   super(props);\n\n   this.state={\n     patient:[]\n   };\n  }\n\n  componentDidMount(){\n    this.retrievepatient();\n    \n  }\n   retrievepatient(){\n     axios.get(\"/patient\").then(res => {\n       if(res.data.success){\n       this.setState({\n         patient:res.data.existingpatient\n       });\n\n       console.log(this.state.patient)\n       }\n\n     });\n   }\n\n   onDelete = (id) =>{\n     axios.delete(`/patient/delete/${id}`).then((res)=>{\n       alert(\"Deleted Successfully!!\");\n       this.retrievepatient();\n     })\n   }\n\n   genPDF =() => {\n    const doc = new jsPDF()\n    doc.setFontSize(20);\n    doc.text(\"Emergency Patient List\", 50,10);\n    \n    var months = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\",\n         \"8\", \"9\", \"10\", \"11\", \"12\"];\n\n         var d = new Date();\n    var namedMonth = months[d.getMonth()];\n    var today =  new Date().getDate() + \"/ \" + namedMonth + \"/ \" + new Date().getFullYear();\n    var time = new Date().getHours() + \":\" + new Date().getMinutes() + \":\" + new Date().getSeconds()\n    \n\n    doc.autoTable({\n      html: '#content'\n    })\n\n   \n\n   \n    \n    doc.setFontSize(12);\n    doc.text(\"SAKURA HOSPITAL - \", 10,272);\n    doc.setFontSize(10);\n    doc.text(\" EMERGENCY PATIENT REPORT\", 52,272);\n    doc.save('tabel.pdf')\n\n\n\n   }\n   \n\n  render() {\n    \n    return (\n      <div className=\"container\">\n        <br/>\n        \n              <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n            <div className=\"container-fluid\">\n           <a className=\"navbar-brand\" href=\"/epatientHome\" style={{fontSize:34,}}><b> Emergency Patient </b></a>\n           <a className=\"btn navbar-btn btn-danger navbar-right\" href=\"/\">Logout</a>\n            </div>\n            </nav>\n            <br/> <br/> \n            <button className=\"btn btn-info\" > <a href=\"\" style={{textDecoration:'none', color:'white'}}>Ambulance</a> </button> <br/>\n\n            <button type=\"button\" className=\"btn btn-danger\" style={{width:'250px',position:\"absolute\", \n            right:\"150px\"}}><a href=\"#\"  onClick={() =>this.genPDF()} style={{textDecoration:'none', color:'white'}}> Download Emegency Patients</a></button>\n\n            \n\n            <br/>\n        <table className=\"table table-hover\" style={{marginTop:'40px'}} id=\"content\">\n          <thead>\n        <tr>\n        <th scope=\"col\">#</th>\n        <th scope=\"col\">Patient NIC Number</th>\n        <th scope=\"col\">Patient Name</th>\n        <th scope=\"col\">Patient PhoneNumber</th>\n        <th scope=\"col\">Driver NIC</th>\n        <th scope=\"col\">Blood Group</th>\n        <th scope=\"col\">Patient past data</th>\n        <th scope=\"col\">Action</th>\n        </tr>\n          </thead>\n          <tbody>\n            {this.state.patient.map((patient,index) => (\n              <tr key={index}>\n                <th scope=\"row\">{index+1}</th>\n                <td>{patient.patientNICNumber} </td>\n                <td>{patient.patientName}</td>\n                <td>{patient.patientPhoneNumber}</td>\n                <td>{patient.driverNICNumber}</td>\n                <td>{patient.bloodgroup}</td>\n                <td>{patient.patientpastdata}</td>\n\n                <td>\n                  < a className=\"btn btn-warning\" href={`/edit/${patient._id}`}> \n                  <i className =\"fas fa-edit\"></i>&nbsp;Edit\n                  </a>\n                  &nbsp;\n                  < a className=\"btn btn-danger\" href=\"#\" onClick={() =>this.onDelete(patient._id)}> \n                  <i className =\"far fa-trash-alt\"></i>&nbsp;Delete\n                  </a>\n                </td>\n              </tr>\n\n            ))}\n          </tbody>\n        </table>\n\n        <button className=\"btn btn-success\"> <a href=\"/addepatient\" style={{textDecoration:'none', color:'white'}}>Add New Patient</a> </button>\n        \n        \n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}